import sys
import os
import hashlib
from pycoin.symbols.btc import network

if len(sys.argv)!=2:
    print("args number error, use it like: > python verify.py filename")
    exit()

data = open(sys.argv[1], "rb").read()
sig  = data[51:139].decode()
data = data[:51] + b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00" + b"\x8d\x66\x70\x15" + data[143:]
hsh  = hashlib.sha256(data).digest().hex().lower()
rst  = network.msg.verify("12duB7eUwCCqum5rezYJGRy2UDhb4EkeoN", sig, message=hsh)

print(str(rst))
